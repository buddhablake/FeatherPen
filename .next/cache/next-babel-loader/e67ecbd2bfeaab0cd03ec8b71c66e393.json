{"ast":null,"code":"// import { useState } from \"react\";\n// import axios from \"axios\";\n// import Register from \"../pages/register\";\n// import Link from \"next/link\";\n//\n// const verifySession = () => {\n//   const [verified, setVerified] = useState({\n//     data: (\n//       <div>\n//         <h1>Loading...</h1>\n//       </div>\n//     ),\n//   });\n//\n//   const checkForSession = () => {\n//     axios\n//       .get(\"/api/session\", {\n//         headers: {\n//           authorization: localStorage.getItem(\"authorization\"),\n//         },\n//       })\n//       .then((res) => {\n//         if (res.data.success) {\n//           setVerified({\n//             success: true,\n//           });\n//         } else {\n//           setVerified({\n//             loading: false,\n//             success: false,\n//             data: (\n//               <div>\n//                 <h1>Ooops, somethings not right on our end</h1>\n//                 <p>\n//                   Please{\" \"}\n//                   <Link href=\"/register\">\n//                     <a>register</a>\n//                   </Link>{\" \"}\n//                   to continue\n//                 </p>\n//               </div>\n//             ),\n//           });\n//         }\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         setVerified({\n//           data: (\n//             <div>\n//               <h1>Ooops, somethings not right on our end</h1>\n//               <p>\n//                 Please{\" \"}\n//                 <Link href=\"/register\">\n//                   <a>register</a>\n//                 </Link>{\" \"}\n//                 to continue\n//               </p>\n//             </div>\n//           ),\n//         });\n//       });\n//   };\n//   return [verified, checkForSession];\n// };\n// export default verifySession;\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst useVerify = () => {\n  const {\n    0: verified,\n    1: setVerified\n  } = useState({\n    loading: true\n  });\n\n  const checkForSession = () => {\n    if (localStorage.getItem(\"authorization\") === null) {\n      setVerified(false);\n      return;\n    }\n\n    axios.get(\"/api/session\", {\n      headers: {\n        authorization: localStorage.getItem(\"authorization\")\n      }\n    }).then(res => {\n      if (res.data.success) {\n        setVerified(true);\n      } else {\n        setVerified(false);\n      }\n    }).catch(err => {\n      setVerified(false);\n    });\n  };\n\n  return [verified, checkForSession];\n};\n\nexport default useVerify;","map":{"version":3,"sources":["/Users/blakedouglass/Desktop/projects/Pair_Programming/FeatherPen/utils/useVerify.js"],"names":["useState","axios","useVerify","verified","setVerified","loading","checkForSession","localStorage","getItem","get","headers","authorization","then","res","data","success","catch","err"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BJ,QAAQ,CAAC;AAAEK,IAAAA,OAAO,EAAE;AAAX,GAAD,CAAxC;;AACA,QAAMC,eAAe,GAAG,MAAM;AAC5B,QAAIC,YAAY,CAACC,OAAb,CAAqB,eAArB,MAA0C,IAA9C,EAAoD;AAClDJ,MAAAA,WAAW,CAAC,KAAD,CAAX;AACA;AACD;;AACDH,IAAAA,KAAK,CACFQ,GADH,CACO,cADP,EACuB;AACnBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEJ,YAAY,CAACC,OAAb,CAAqB,eAArB;AADR;AADU,KADvB,EAMGI,IANH,CAMSC,GAAD,IAAS;AACb,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AACpBX,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD,OAFD,MAEO;AACLA,QAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACF,KAZH,EAaGY,KAbH,CAaUC,GAAD,IAAS;AACdb,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAfH;AAgBD,GArBD;;AAsBA,SAAO,CAACD,QAAD,EAAWG,eAAX,CAAP;AACD,CAzBD;;AA0BA,eAAeJ,SAAf","sourcesContent":["// import { useState } from \"react\";\n// import axios from \"axios\";\n// import Register from \"../pages/register\";\n// import Link from \"next/link\";\n//\n// const verifySession = () => {\n//   const [verified, setVerified] = useState({\n//     data: (\n//       <div>\n//         <h1>Loading...</h1>\n//       </div>\n//     ),\n//   });\n//\n//   const checkForSession = () => {\n//     axios\n//       .get(\"/api/session\", {\n//         headers: {\n//           authorization: localStorage.getItem(\"authorization\"),\n//         },\n//       })\n//       .then((res) => {\n//         if (res.data.success) {\n//           setVerified({\n//             success: true,\n//           });\n//         } else {\n//           setVerified({\n//             loading: false,\n//             success: false,\n//             data: (\n//               <div>\n//                 <h1>Ooops, somethings not right on our end</h1>\n//                 <p>\n//                   Please{\" \"}\n//                   <Link href=\"/register\">\n//                     <a>register</a>\n//                   </Link>{\" \"}\n//                   to continue\n//                 </p>\n//               </div>\n//             ),\n//           });\n//         }\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         setVerified({\n//           data: (\n//             <div>\n//               <h1>Ooops, somethings not right on our end</h1>\n//               <p>\n//                 Please{\" \"}\n//                 <Link href=\"/register\">\n//                   <a>register</a>\n//                 </Link>{\" \"}\n//                 to continue\n//               </p>\n//             </div>\n//           ),\n//         });\n//       });\n//   };\n//   return [verified, checkForSession];\n// };\n// export default verifySession;\n\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\n\nconst useVerify = () => {\n  const [verified, setVerified] = useState({ loading: true });\n  const checkForSession = () => {\n    if (localStorage.getItem(\"authorization\") === null) {\n      setVerified(false);\n      return;\n    }\n    axios\n      .get(\"/api/session\", {\n        headers: {\n          authorization: localStorage.getItem(\"authorization\"),\n        },\n      })\n      .then((res) => {\n        if (res.data.success) {\n          setVerified(true);\n        } else {\n          setVerified(false);\n        }\n      })\n      .catch((err) => {\n        setVerified(false);\n      });\n  };\n  return [verified, checkForSession];\n};\nexport default useVerify;\n"]},"metadata":{},"sourceType":"module"}