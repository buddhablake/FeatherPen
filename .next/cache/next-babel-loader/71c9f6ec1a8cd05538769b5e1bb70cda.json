{"ast":null,"code":"import dbConnect from '../../../utils/dbConnect';\nimport Posts from '../../../models/post';\ndbConnect();\nexport default (async (req, res) => {\n  const {\n    method,\n    query: {\n      postid\n    }\n  } = req;\n\n  switch (method) {\n    case \"DELETE\":\n      try {\n        const posts = await Posts.findByIdAndRemove(postid);\n        res.status(200).json({\n          success: true,\n          data: posts\n        });\n      } catch (err) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    case \"PUT\":\n      try {\n        const newPost = await Posts.findByIdAndUpdate(postid, body, {\n          new: true\n        });\n        res.status(200).json({\n          success: true,\n          data: newPost\n        });\n      } catch (err) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["/Users/blakedouglass/Desktop/projects/Pair_Programming/FeatherPen/pages/api/posts/[postid].js"],"names":["dbConnect","Posts","req","res","method","query","postid","posts","findByIdAndRemove","status","json","success","data","err","newPost","findByIdAndUpdate","body","new"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AAGAD,SAAS;AAET,gBAAe,OAAOE,GAAP,EAAWC,GAAX,KACf;AACE,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,KAAK,EAAC;AAAEC,MAAAA;AAAF;AAAhB,MAA+BJ,GAArC;;AAGA,UAAQE,MAAR;AACE,SAAK,QAAL;AACE,UAAI;AACA,cAAMG,KAAK,GAAG,MACdN,KAAK,CAACO,iBAAN,CAAwBF,MAAxB,CADA;AAEAH,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAeC,UAAAA,IAAI,EAACL;AAApB,SAArB;AACH,OAJD,CAIE,OAAMM,GAAN,EAAW;AACTV,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,UAAAA,OAAO,EAAC;AADW,SAArB;AAEH;;AACD;;AAEA,SAAK,KAAL;AACE,UAAI;AACA,cAAMG,OAAO,GAAG,MAChBb,KAAK,CAACc,iBAAN,CAAwBT,MAAxB,EAA+BU,IAA/B,EAAoC;AAACC,UAAAA,GAAG,EAAC;AAAL,SAApC,CADA;AAEAd,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC,IAAT;AAAeC,UAAAA,IAAI,EAACE;AAApB,SAArB;AACH,OAJD,CAIE,OAAMD,GAAN,EAAW;AACTV,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,UAAAA,OAAO,EAAC;AADW,SAArB;AAEH;;AAED;;AAEF;AACER,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,QAAAA,OAAO,EAAC;AADW,OAArB;AAGA;AA5BN;AA+BD,CApCD","sourcesContent":["import dbConnect from '../../../utils/dbConnect'\nimport Posts from '../../../models/post'\n\n\ndbConnect()\n\nexport default async (req,res) =>\n{\n  const { method, query:{ postid } } = req\n\n  \n  switch (method) {\n    case \"DELETE\":\n      try {\n          const posts = await\n          Posts.findByIdAndRemove(postid)\n          res.status(200).json({success:true, data:posts})\n      } catch(err) {\n          res.status(400).json({\n            success:false})\n      }\n      break;\n\n      case \"PUT\":\n        try {\n            const newPost = await\n            Posts.findByIdAndUpdate(postid,body,{new:true})\n            res.status(200).json({success:true, data:newPost})\n        } catch(err) {\n            res.status(400).json({\n              success:false})\n        }\n\n        break;\n\n      default:\n        res.status(400).json({\n          success:false\n        })\n        break;\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}