{"ast":null,"code":"import dbConnect from \"../../../utils/dbConnect\";\nimport Posts from \"../../../models/post\";\ndbConnect();\nexport default (async (req, res) => {\n  const {\n    method,\n    query: {\n      postid\n    },\n    body\n  } = req;\n\n  switch (method) {\n    case \"DELETE\":\n      try {\n        const posts = await Posts.findByIdAndRemove(postid);\n        res.status(200).json({\n          success: true,\n          data: posts\n        });\n      } catch (err) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    case \"PUT\":\n      try {\n        const newPost = await Posts.findByIdAndUpdate(postid, body, {\n          new: true\n        });\n        res.status(200).json({\n          success: true,\n          data: newPost\n        });\n      } catch (err) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["/Users/blakedouglass/Desktop/projects/Pair_Programming/FeatherPen/pages/api/posts/[postid].js"],"names":["dbConnect","Posts","req","res","method","query","postid","body","posts","findByIdAndRemove","status","json","success","data","err","newPost","findByIdAndUpdate","new"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AAEAD,SAAS;AAET,gBAAe,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AACJC,IAAAA,MADI;AAEJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF,KAFH;AAGJC,IAAAA;AAHI,MAIFL,GAJJ;;AAMA,UAAQE,MAAR;AACE,SAAK,QAAL;AACE,UAAI;AACF,cAAMI,KAAK,GAAG,MAAMP,KAAK,CAACQ,iBAAN,CAAwBH,MAAxB,CAApB;AACAH,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEL;AAAvB,SAArB;AACD,OAHD,CAGE,OAAOM,GAAP,EAAY;AACZX,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,UAAAA,OAAO,EAAE;AADU,SAArB;AAGD;;AACD;;AAEF,SAAK,KAAL;AACE,UAAI;AACF,cAAMG,OAAO,GAAG,MAAMd,KAAK,CAACe,iBAAN,CAAwBV,MAAxB,EAAgCC,IAAhC,EAAsC;AAC1DU,UAAAA,GAAG,EAAE;AADqD,SAAtC,CAAtB;AAGAd,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEE;AAAvB,SAArB;AACD,OALD,CAKE,OAAOD,GAAP,EAAY;AACZX,QAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,UAAAA,OAAO,EAAE;AADU,SAArB;AAGD;;AAED;;AAEF;AACET,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,QAAAA,OAAO,EAAE;AADU,OAArB;AAGA;AA9BJ;AAgCD,CAvCD","sourcesContent":["import dbConnect from \"../../../utils/dbConnect\";\nimport Posts from \"../../../models/post\";\n\ndbConnect();\n\nexport default async (req, res) => {\n  const {\n    method,\n    query: { postid },\n    body,\n  } = req;\n\n  switch (method) {\n    case \"DELETE\":\n      try {\n        const posts = await Posts.findByIdAndRemove(postid);\n        res.status(200).json({ success: true, data: posts });\n      } catch (err) {\n        res.status(400).json({\n          success: false,\n        });\n      }\n      break;\n\n    case \"PUT\":\n      try {\n        const newPost = await Posts.findByIdAndUpdate(postid, body, {\n          new: true,\n        });\n        res.status(200).json({ success: true, data: newPost });\n      } catch (err) {\n        res.status(400).json({\n          success: false,\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false,\n      });\n      break;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}